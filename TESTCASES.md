# BASE_URL = https://qa-internship.avito.com
# ID созданного объявления = c5c19b38-cc97-4ffa-a121-7387c82878c4
# ID созданного продавца = 148888

# Тест-кейсы для ручки "Создать объявления" (POST /api/1/item)

## Тест 1: Проверка корректности запроса (200 OK)
**Цель:** Проверить, что запрос с валидными данными возвращает успешный ответ.

**Предусловия:**
- Все обязательные поля указаны корректно.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с валидными данными, например:
    ```json
    {
      "sellerID": 148888,
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 200.
3. Проверить, что в теле ответа присутствует поле `status`, и оно содержит строку (например, `"status": "Сохранили объявление - c5c19b38-cc97-4ffa-a121-7387c82878c4"`).

**Ожидаемый результат:**
- Статус ответа 200.
- В теле ответа поле `status`, содержащее строку `"status": "Сохранили объявление - c5c19b38-cc97-4ffa-a121-7387c82878c4"`.

---

## Тест 2: Ошибка при нулевом значении `sellerID` (400 Bad Request)
**Цель:** Проверить обработку ошибки при `sellerID = 0`.

**Предусловия:**
- Значение поля `sellerID` установлено в 0.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 0,
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Invalid sellerID"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Invalid sellerID"`.

---

## Тест 3: Ошибка при отрицательном значении `sellerID` (400 Bad Request)
**Цель:** Проверить обработку ошибки при отрицательном значении `sellerID`.

**Предусловия:**
- Значение поля `sellerID` установлено в отрицательное число.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": -123456,
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Invalid sellerID"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Invalid sellerID"`.

---

## Тест 4: Ошибка при отсутствующем поле `sellerID` (400 Bad Request)
**Цель:** Проверить обработку ошибки при пустом значении `sellerID`.

**Предусловия:**
- Поле `sellerID` не указано.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Missing required field: sellerID"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Missing required field: sellerID"`.

---

## Тест 5: Ошибка при значении `sellerID`, превышающем максимальное (400 Bad Request)
**Цель:** Проверить обработку ошибки при значении `sellerID` больше максимального значения (999999).

**Предусловия:**
- Значение поля `sellerID` больше 999999.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 1000000,
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Invalid sellerID"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Invalid sellerID"`.

---

## Тест 6: Ошибка при пустом значении `price` (400 Bad Request)
**Цель:** Проверить обработку ошибки, если поле `price` пустое.

**Предусловия:**
- Поле `price` не указано.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 123456,
      "name": "Test Ad",
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Missing required field: price"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Missing required field: price"`.

---

## Тест 7: Ошибка при отрицательном значении `price` (400 Bad Request)
**Цель:** Проверить обработку ошибки при отрицательном значении `price`.

**Предусловия:**
- Значение поля `price` установлено в отрицательное число.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 123456,
      "name": "Test Ad",
      "price": -500,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Invalid price value"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Invalid price value"`.

---

## Тест 8: Ошибка при отрицательных значениях в статистике (400 Bad Request)
**Цель:** Проверить обработку ошибки, если в поле `statistics` указаны отрицательные значения.

**Предусловия:**
- В поле `statistics` указаны отрицательные значения.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 123456,
      "name": "Test Ad",
      "price": 1000,
      "statistics": {
        "contacts": -5,
        "likes": -3,
        "viewCount": -10
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Invalid statistics values"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Invalid statistics values"`.

---

## Тест 9: Ошибка при пустом значении `name` (400 Bad Request)
**Цель:** Проверить обработку ошибки, если поле `name` пустое.

**Предусловия:**
- Поле `name` не указано.

**Шаги:**
1. Отправить POST-запрос на endpoint `/api/1/item` с данными:
    ```json
    {
      "sellerID": 123456,
      "price": 1000,
      "statistics": {
        "contacts": 10,
        "likes": 5,
        "viewCount": 100
      }
    }
    ```
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует поле `result`, содержащее объект с полем `message`, например, `"message": "Missing required field: name"`.

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "Missing required field: name"`.

------------------------------------------------------------------------------------------------------------------------


# Тест-кейсы для ручки "Получить объявление по ID" (GET /api/1/item/{id})

## Тест 1: Проверка корректного ответа для существующего объявления (200 OK)
**Цель:** Проверить, что при запросе с существующим `id` возвращается правильная информация об объявлении.

**Предусловия:**
- Объявление с `id` существует в базе данных.

**Шаги:**
1. Отправить GET-запрос на endpoint `/api/1/item/{id}` с действительным `id`, например: `/api/1/item/c5c19b38-cc97-4ffa-a121-7387c82878c4`.
2. Проверить, что ответ имеет статус 200.
3. Проверить, что в теле ответа содержатся следующие поля:
4. 
   - `id` (строка),
   - `sellerId` (целое число),
   - `name` (строка),
   - `price` (целое число),
   - `statistics` (объект с полями  `contacts`,`likes`,`viewCount`),
   - `createdAt` (строка).

**Ожидаемый результат:**
- Статус ответа 200.
- Поля в теле ответа заполнены корректными данными и соответствуют структуре 

---

## Тест 2: Ошибка при запросе с несуществующим `id` (400 Bad Request)
**Цель:** Проверить, что происходит при запросе с несуществующим `id`.

**Предусловия:**
- В базе данных нет записи с указанным `id`.

**Шаги:**
1. Отправить GET-запрос на endpoint `/api/1/item/{id}` с несуществующим `id`, например: `/api/1/item/99999`.
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует объект `result`, содержащий поля:
   - `message` (строка, например: `"передан некорректный идентификатор объявления"`),
   - `messages` (пустой объект `{}`).

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "передан некорректный идентификатор объявления"`, и пустым объектом в поле `messages`.

---

## Тест 3: Ошибка при запросе с некорректным `id` (400 Bad Request)
**Цель:** Проверить обработку запроса с некорректным значением `id` (например, строка вместо числа).

**Предусловия:**
- Значение `id` является некорректным.

**Шаги:**
1. Отправить GET-запрос на endpoint `/api/1/item/{id}` с некорректным `id`, например: `/api/1/item/abc123`.
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует объект `result`, содержащий поля:
   - `message` (строка, например: `"передан некорректный идентификатор объявления"`),
   - `messages` (пустой объект `{}`).

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "передан некорректный идентификатор объявления"`, и пустым объектом в поле `messages`.

------------------------------------------------------------------------------------------------------------------------


# Тест-кейсы для ручки "Получить статистику по ID" (GET /api/1/statistic/{id})

## Тест 1: Проверка корректного ответа для существующего объявления (200 OK)
**Шаги**:
1. Отправить GET-запрос на endpoint `/api/1/statistic/{id}` с существующим `id`, например: `/api/1/statistic/c5c19b38-cc97-4ffa-a121-7387c82878c4`.
2. Проверить, что код ответа - 200.
3. Проверить структуру ответа:
   
```json
  [
    {
      "contacts": 0,
      "likes": 0,
      "viewCount": 0
    }
  ]
```
**Ожидаемый результат**:
- Код ответа: `200 OK`
- Структура:
 ```json
  [
    {
      "contacts": 0,
      "likes": 0,
      "viewCount": 0
    }
  ]
```

---

## Тест 2: Ошибка при запросе с некорректным `id` (400 Bad Request)
**Цель:** Проверить обработку запроса с некорректным значением `id` (например, строка вместо числа).

**Предусловия:**
- Значение `id` является некорректным.

**Шаги:**
1. Отправить GET-запрос на endpoint `/api/1/statistic/{id}` с некорректным `id`, например: `/api/1/statistic/123456`.
2. Проверить, что ответ имеет статус 400.
3. Проверить, что в теле ответа присутствует объект `result`, содержащий поля:
   - `message` (строка, например: `"передан некорректный идентификатор объявления"`),
   - `messages` (пустой объект `{}`).

**Ожидаемый результат:**
- Статус ответа 400.
- В теле ответа объект `result` с полем `message`, например: `"message": "передан некорректный идентификатор объявления"`, и пустым объектом в поле `messages`.

-----------------------------------------------------------------------------------------------------------------------


# Тест-кейсы для ручки "Получить элементы по ID продавца" ()

## Тест 1: Проверка корректного ответа для существующего sellerID (200 OK)
**Шаги**:
1. Отправить GET-запрос на endpoint `/api/1/{sellerID}/item` с существующим `sellerID`, например: `/api/1/148888/item`.
**Ожидаемый результат**:
- Код ответа: `200 OK`
- Структура:
```json
[  
  {
    "id": "<string>",
    "sellerId": "<integer>",
    "name": "<string>",
    "price": "<integer>",
    "statistics": {
      "likes": "<integer>",
      "viewCount": "<integer>",
      "contacts": "<integer>"
    },
    "createdAt": "<string>"
  }
]
```
---

## Тест 2: Проверка корректного ответа для не существующего sellerID (400 Bad Request)
**Шаги**:
1. Отправить GET-запрос на endpoint `/api/1/{sellerID}/item` с несуществующим `sellerID`, например: `/api/1/150/item`.
   **Ожидаемый результат**:
- Код ответа: `400 Bad Request`
- Структура:
```json
{
   "result": {
      "messages": {
         "nostrudffb": "<string>",
         "Ut__": "<string>"
      },
      "message": "<string>"
   },
   "status": "<string>"
}
```

